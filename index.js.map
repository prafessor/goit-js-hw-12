{"version":3,"file":"index.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const createGalleryCardTemplate = data => {\n  return data\n    .map(photo => {\n      const {\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      } = photo;\n\n      return `\n      <li class=\"gallery-item\">\n        <a class=\"gallery-link js-gallery-link\" href=\"${largeImageURL}\">\n          <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\">\n          <div class=\"gallery-addition\">\n            <div class=\"gallery-addition-item\">\n              <span class=\"gallery-addition-title\">Likes</span>\n              <span class=\"gallery-addition-value\">${likes}</span>\n            </div>\n            <div class=\"gallery-addition-item\">\n              <span class=\"gallery-addition-title\">Views</span>\n              <span class=\"gallery-addition-value\">${views}</span>\n            </div>\n            <div class=\"gallery-addition-item\">\n              <span class=\"gallery-addition-title\">Comments</span>\n              <span class=\"gallery-addition-value\">${comments}</span>\n            </div>\n            <div class=\"gallery-addition-item\">\n              <span class=\"gallery-addition-title\">Downloads</span>\n              <span class=\"gallery-addition-value\">${downloads}</span>\n            </div>\n          </div>\n        </a>\n      </li>\n      `;\n    })\n    .join('');\n};\n","export const fetchPhotoByQuery = searchedQuery => {\n  const searchParams = new URLSearchParams({\n    key: '48498756-24fea4538a1b2e6f47cfee5c0',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${searchParams}`).then(responce => {\n    if (!responce.ok) {\n      throw new Error(responce.status);\n    }\n\n    return responce.json();\n  });\n};\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { createGalleryCardTemplate } from './js/render-functions';\nimport { fetchPhotoByQuery } from './js/pixabay-api';\n\nconst searchFormEl = document.querySelector('.js-search-form');\nconst galleryEl = document.querySelector('.js-gallery');\nconst galleryLoaderEl = document.querySelector('.loader');\n\nsearchFormEl.addEventListener('submit', event => {\n  event.preventDefault();\n\n  const userQuery = event.currentTarget.elements.query.value.trim();\n\n  searchFormEl.reset();\n\n  if (userQuery === '') {\n    return;\n  }\n\n  galleryEl.innerHTML = '';\n  galleryLoaderEl.style.display = 'block';\n\n  fetchPhotoByQuery(userQuery)\n    .finally(() => {\n      galleryLoaderEl.style.display = 'none';\n    })\n    .then(data => {\n      if (data.hits.length === 0) {\n        iziToast.error({\n          title:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n\n        return;\n      }\n\n      galleryEl.innerHTML = createGalleryCardTemplate(data.hits);\n      GalleryModalWindow.refresh();\n    })\n    .catch(err => {\n      iziToast.error({\n        title: err.message,\n        position: 'topRight',\n      });\n    });\n});\n\nconst GalleryModalWindow = new SimpleLightbox('.js-gallery-link');\n"],"names":["createGalleryCardTemplate","data","photo","largeImageURL","webformatURL","tags","likes","views","comments","downloads","fetchPhotoByQuery","searchedQuery","searchParams","responce","searchFormEl","galleryEl","galleryLoaderEl","event","userQuery","iziToast","GalleryModalWindow","err","SimpleLightbox"],"mappings":"6vBAAO,MAAMA,EAA4BC,GAChCA,EACJ,IAAIC,GAAS,CACZ,KAAM,CACJ,cAAAC,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,EAAGP,EAEJ,MAAO;AAAA;AAAA,wDAE2CC,CAAa;AAAA,0CAC3BC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA,qDAIfC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,qDAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,qDAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,OAM9D,CAAK,EACA,KAAK,EAAE,ECvCCC,EAAoBC,GAAiB,CAChD,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAY,EAAE,EAAE,KAAKC,GAAY,CACxE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAMA,EAAS,MAAM,EAGjC,OAAOA,EAAS,MACpB,CAAG,CACH,ECXMC,EAAe,SAAS,cAAc,iBAAiB,EACvDC,EAAY,SAAS,cAAc,aAAa,EAChDC,EAAkB,SAAS,cAAc,SAAS,EAExDF,EAAa,iBAAiB,SAAUG,GAAS,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAYD,EAAM,cAAc,SAAS,MAAM,MAAM,OAE3DH,EAAa,MAAK,EAEdI,IAAc,KAIlBH,EAAU,UAAY,GACtBC,EAAgB,MAAM,QAAU,QAEhCN,EAAkBQ,CAAS,EACxB,QAAQ,IAAM,CACbF,EAAgB,MAAM,QAAU,MACtC,CAAK,EACA,KAAKf,GAAQ,CACZ,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BkB,EAAS,MAAM,CACb,MACE,2EACF,SAAU,UACpB,CAAS,EAED,MACD,CAEDJ,EAAU,UAAYf,EAA0BC,EAAK,IAAI,EACzDmB,EAAmB,QAAO,CAChC,CAAK,EACA,MAAMC,GAAO,CACZF,EAAS,MAAM,CACb,MAAOE,EAAI,QACX,SAAU,UAClB,CAAO,CACP,CAAK,EACL,CAAC,EAED,MAAMD,EAAqB,IAAIE,EAAe,kBAAkB"}